<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Learn Jawi Script</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  
  <!-- Audio System - Load BEFORE React -->
  <script>
    // Global audio function
    window.playSound = function(text, language = 'en-US') {
      try {
        if (!window.speechSynthesis) {
          console.warn('Speech synthesis not supported');
          return;
        }

        window.speechSynthesis.cancel();

        setTimeout(function() {
          var utterance = new SpeechSynthesisUtterance(text);
          utterance.lang = language;
          utterance.rate = 0.7;
          utterance.pitch = 1.0;
          utterance.volume = 1.0;

          utterance.onerror = function(event) {
            console.error('Speech error:', event);
          };

          utterance.onend = function() {
            console.log('Speech completed:', text);
          };

          window.speechSynthesis.speak(utterance);
          console.log('Playing audio:', text);
        }, 50);
      } catch (error) {
        console.error('Audio error:', error);
      }
    };
    
    console.log('Audio system loaded. Test with: window.playSound("test")');
  </script>
  
  <style>
    .font-arabic { 
      font-family: 'Traditional Arabic', 'Arabic Typesetting', 'Geeza Pro', 'Scheherazade', serif; 
      direction: rtl;
    }
    .company-logo {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 8px 16px;
      background: linear-gradient(135deg, #059669 0%, #10b981 100%);
      border-radius: 12px;
      box-shadow: 0 4px 6px rgba(5, 150, 105, 0.2);
    }
    .logo-icon {
      width: 48px;
      height: 48px;
      background: white;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      font-weight: bold;
      color: #059669;
    }
    .logo-text {
      display: flex;
      flex-direction: column;
    }
    .logo-title {
      font-size: 18px;
      font-weight: bold;
      color: white;
      line-height: 1.2;
    }
    .logo-subtitle {
      font-size: 11px;
      color: rgba(255, 255, 255, 0.9);
      letter-spacing: 0.5px;
    }
  </style>
</head>
<body>
  <div id="root"></div>
  
  <script type="text/babel">
    const { useState, useEffect } = React;
    const { BookOpen, LogOut, Users, BarChart3, Settings, Check } = lucide;

    const API_URL = window.location.origin;

    const JawiLearningApp = () => {
      const [currentUser, setCurrentUser] = useState(null);
      const [token, setToken] = useState(localStorage.getItem('token'));
      const [showLogin, setShowLogin] = useState(!token);
      const [isSignup, setIsSignup] = useState(false);
      const [loginForm, setLoginForm] = useState({ username: '', password: '' });
      const [activeTab, setActiveTab] = useState('alphabet');
      const [selectedLetter, setSelectedLetter] = useState(null);
      const [quizMode, setQuizMode] = useState(false);
      const [currentQuiz, setCurrentQuiz] = useState(0);
      const [score, setScore] = useState(0);
      const [showAdmin, setShowAdmin] = useState(false);
      const [allUsers, setAllUsers] = useState([]);
      const [loading, setLoading] = useState(false);

      const jawiLetters = [
        { jawi: 'ÿß', rumi: 'a', name: 'alif', sound: 'a as in father' },
        { jawi: 'ÿ®', rumi: 'b', name: 'ba', sound: 'b as in boy' },
        { jawi: 'ÿ™', rumi: 't', name: 'ta', sound: 't as in top' },
        { jawi: 'ÿ´', rumi: 'th/s', name: 'tsa', sound: 'th as in think' },
        { jawi: 'ÿ¨', rumi: 'j', name: 'jim', sound: 'j as in jam' },
        { jawi: 'ÿ≠', rumi: 'h', name: 'ha', sound: 'h (emphatic)' },
        { jawi: 'ÿÆ', rumi: 'kh', name: 'kha', sound: 'kh (guttural)' },
        { jawi: 'ÿØ', rumi: 'd', name: 'dal', sound: 'd as in dog' },
        { jawi: 'ÿ∞', rumi: 'dz/z', name: 'dzal', sound: 'th as in this' },
        { jawi: 'ÿ±', rumi: 'r', name: 'ra', sound: 'r (rolled)' },
        { jawi: 'ÿ≤', rumi: 'z', name: 'za', sound: 'z as in zoo' },
        { jawi: 'ÿ≥', rumi: 's', name: 'sin', sound: 's as in sun' },
        { jawi: 'ÿ¥', rumi: 'sy', name: 'syin', sound: 'sh as in shop' },
        { jawi: 'ÿµ', rumi: 's', name: 'sad', sound: 's (emphatic)' },
        { jawi: 'ÿ∂', rumi: 'd', name: 'dad', sound: 'd (emphatic)' },
        { jawi: 'ÿ∑', rumi: 't', name: 'ta', sound: 't (emphatic)' },
        { jawi: 'ÿ∏', rumi: 'z', name: 'za', sound: 'z (emphatic)' },
        { jawi: 'ÿπ', rumi: 'a/e/i/o/u', name: 'ain', sound: 'guttural a' },
        { jawi: 'ÿ∫', rumi: 'gh', name: 'ghain', sound: 'gh (guttural)' },
        { jawi: 'ŸÅ', rumi: 'f', name: 'fa', sound: 'f as in fun' },
        { jawi: 'ŸÇ', rumi: 'q/k', name: 'qaf', sound: 'q (deep k)' },
        { jawi: '⁄©', rumi: 'k', name: 'kaf', sound: 'k as in kite' },
        { jawi: 'ŸÑ', rumi: 'l', name: 'lam', sound: 'l as in lamp' },
        { jawi: 'ŸÖ', rumi: 'm', name: 'mim', sound: 'm as in man' },
        { jawi: 'ŸÜ', rumi: 'n', name: 'nun', sound: 'n as in no' },
        { jawi: 'Ÿà', rumi: 'w/u/o', name: 'wau', sound: 'w/oo' },
        { jawi: 'Ÿá', rumi: 'h', name: 'ha', sound: 'h as in hat' },
        { jawi: 'Ÿä', rumi: 'y/i', name: 'ya', sound: 'y/ee' },
        { jawi: 'ÿ°', rumi: "'", name: 'hamzah', sound: 'glottal stop' },
        { jawi: '⁄†', rumi: 'ng', name: 'nga', sound: 'ng as in sing' },
        { jawi: '⁄Ω', rumi: 'ny', name: 'nya', sound: 'ny as in canyon' },
        { jawi: '⁄Ü', rumi: 'c', name: 'ca', sound: 'ch as in chair' },
        { jawi: '⁄§', rumi: 'p', name: 'pa', sound: 'p as in pan' },
        { jawi: '›¢', rumi: 'g', name: 'ga', sound: 'g as in go' },
        { jawi: '€è', rumi: 'v', name: 'va', sound: 'v as in van' },
      ];

      const commonWords = [
        { jawi: 'ÿ≥ŸÑÿßŸÖÿ™', rumi: 'selamat', meaning: 'safe/greetings' },
        { jawi: '⁄§ÿß›¢Ÿä', rumi: 'pagi', meaning: 'morning' },
        { jawi: 'ÿ™ÿ±ŸÖÿß ⁄©ÿßÿ≥ŸäŸá', rumi: 'terima kasih', meaning: 'thank you' },
        { jawi: 'ÿß⁄§ ÿÆÿ®ÿ±', rumi: 'apa khabar', meaning: 'how are you' },
        { jawi: 'ŸÜÿßŸÖ', rumi: 'nama', meaning: 'name' },
        { jawi: 'ÿ≥ÿßŸä', rumi: 'saya', meaning: 'I/me' },
        { jawi: 'ŸÖÿß⁄©ŸÜ', rumi: 'makan', meaning: 'eat' },
        { jawi: 'ŸÖŸäŸÜŸàŸÖ', rumi: 'minum', meaning: 'drink' },
      ];

      useEffect(() => {
        if (token) {
          fetchCurrentUser();
        }
      }, [token]);

      const fetchCurrentUser = async () => {
        try {
          const response = await fetch(`${API_URL}/api/users/me`, {
            headers: { 'Authorization': `Bearer ${token}` }
          });
          if (response.ok) {
            const user = await response.json();
            setCurrentUser(user);
            setShowLogin(false);
          } else {
            handleLogout();
          }
        } catch (err) {
          console.error('Error fetching user:', err);
          handleLogout();
        }
      };

      const fetchAllUsers = async () => {
        try {
          const response = await fetch(`${API_URL}/api/admin/users`, {
            headers: { 'Authorization': `Bearer ${token}` }
          });
          if (response.ok) {
            const users = await response.json();
            setAllUsers(users);
          }
        } catch (err) {
          console.error('Error fetching users:', err);
        }
      };

      const handleLogin = async (e) => {
        e.preventDefault();
        setLoading(true);
        try {
          const response = await fetch(`${API_URL}/api/auth/login`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(loginForm)
          });
          const data = await response.json();
          if (response.ok) {
            localStorage.setItem('token', data.token);
            setToken(data.token);
            setCurrentUser(data.user);
            setShowLogin(false);
            setLoginForm({ username: '', password: '' });
          } else {
            alert(data.error || 'Login failed');
          }
        } catch (err) {
          alert('Network error');
        }
        setLoading(false);
      };

      const handleSignup = async (e) => {
        e.preventDefault();
        setLoading(true);
        try {
          const response = await fetch(`${API_URL}/api/auth/signup`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(loginForm)
          });
          const data = await response.json();
          if (response.ok) {
            localStorage.setItem('token', data.token);
            setToken(data.token);
            setCurrentUser(data.user);
            setShowLogin(false);
            setLoginForm({ username: '', password: '' });
            setIsSignup(false);
          } else {
            alert(data.error || 'Signup failed');
          }
        } catch (err) {
          alert('Network error');
        }
        setLoading(false);
      };

      const handleLogout = () => {
        localStorage.removeItem('token');
        setToken(null);
        setCurrentUser(null);
        setShowLogin(true);
        setShowAdmin(false);
        setActiveTab('alphabet');
      };

      const startQuiz = () => {
        setQuizMode(true);
        setCurrentQuiz(0);
        setScore(0);
      };

      const checkAnswer = async (answer) => {
        const correct = jawiLetters[currentQuiz].rumi === answer;
        const newScore = correct ? score + 1 : score;
        
        if (correct) setScore(newScore);
        
        if (currentQuiz < 9) {
          setTimeout(() => setCurrentQuiz(currentQuiz + 1), 500);
        } else {
          const finalScore = correct ? newScore : score;
          try {
            await fetch(`${API_URL}/api/users/progress`, {
              method: 'PUT',
              headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${token}`
              },
              body: JSON.stringify({ score: finalScore })
            });
            await fetchCurrentUser();
          } catch (err) {
            console.error('Error updating progress:', err);
          }
          setTimeout(() => setQuizMode(false), 1500);
        }
      };

      const getRandomOptions = (correctAnswer) => {
        const options = [correctAnswer];
        while (options.length < 4) {
          const random = jawiLetters[Math.floor(Math.random() * jawiLetters.length)].rumi;
          if (!options.includes(random)) options.push(random);
        }
        return options.sort(() => Math.random() - 0.5);
      };

      const deleteUser = async (userId) => {
        if (window.confirm('Are you sure you want to delete this user?')) {
          try {
            const response = await fetch(`${API_URL}/api/admin/users/${userId}`, {
              method: 'DELETE',
              headers: { 'Authorization': `Bearer ${token}` }
            });
            if (response.ok) {
              await fetchAllUsers();
            }
          } catch (err) {
            alert('Error deleting user');
          }
        }
      };

      const openAdmin = async () => {
        setShowAdmin(true);
        await fetchAllUsers();
      };

      if (showLogin) {
        return React.createElement('div', { className: "min-h-screen bg-gradient-to-br from-emerald-50 to-teal-100 flex items-center justify-center p-4" },
          React.createElement('div', { className: "bg-white rounded-xl shadow-2xl p-8 max-w-md w-full" },
            React.createElement('div', { className: "flex justify-center mb-6" },
              React.createElement('div', { className: "company-logo" },
                React.createElement('div', { className: "logo-icon" }, 'ÿ¨'),
                React.createElement('div', { className: "logo-text" },
                  React.createElement('div', { className: "logo-title" }, 'JAWI LEARN'),
                  React.createElement('div', { className: "logo-subtitle" }, 'EDUCATION PLATFORM')
                )
              )
            ),
            React.createElement('h1', { className: "text-3xl font-bold text-emerald-800 mb-6 text-center" }, 'Learn Jawi Script'),
            React.createElement('form', { onSubmit: isSignup ? handleSignup : handleLogin, className: "space-y-4" },
              React.createElement('div', null,
                React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-2" }, 'Username'),
                React.createElement('input', {
                  type: 'text',
                  value: loginForm.username,
                  onChange: (e) => setLoginForm({ ...loginForm, username: e.target.value }),
                  className: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",
                  required: true,
                  disabled: loading
                })
              ),
              React.createElement('div', null,
                React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-2" }, 'Password'),
                React.createElement('input', {
                  type: 'password',
                  value: loginForm.password,
                  onChange: (e) => setLoginForm({ ...loginForm, password: e.target.value }),
                  className: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",
                  required: true,
                  disabled: loading
                })
              ),
              React.createElement('button', {
                type: 'submit',
                className: "w-full bg-emerald-600 text-white py-2 rounded-lg hover:bg-emerald-700 transition font-medium disabled:bg-gray-400",
                disabled: loading
              }, loading ? 'Loading...' : (isSignup ? 'Sign Up' : 'Login'))
            ),
            React.createElement('div', { className: "mt-4 text-center" },
              React.createElement('button', {
                onClick: () => setIsSignup(!isSignup),
                className: "text-emerald-600 hover:text-emerald-700 text-sm",
                disabled: loading
              }, isSignup ? 'Already have an account? Login' : "Don't have an account? Sign up")
            ),
            React.createElement('div', { className: "mt-6 p-4 bg-gray-50 rounded-lg text-sm text-gray-600" },
              React.createElement('p', { className: "font-semibold mb-2" }, 'Demo Account:'),
              React.createElement('p', null, 'Username: admin'),
              React.createElement('p', null, 'Password: admin123')
            )
          )
        );
      }

      if (showAdmin && currentUser?.role === 'superuser') {
        const totalQuizzes = allUsers.reduce((sum, u) => sum + (u.total_quizzes || 0), 0);
        const totalScore = allUsers.reduce((sum, u) => sum + (u.total_score || 0), 0);
        const avgScore = totalQuizzes > 0 ? (totalScore / totalQuizzes).toFixed(1) : 0;

        return React.createElement('div', { className: "min-h-screen bg-gradient-to-br from-emerald-50 to-teal-100 p-4" },
          React.createElement('div', { className: "max-w-6xl mx-auto" },
            React.createElement('div', { className: "bg-white rounded-xl shadow-lg p-6 mb-6" },
              React.createElement('div', { className: "flex justify-between items-center mb-6 flex-wrap gap-4" },
                React.createElement('div', { className: "flex items-center gap-4" },
                  React.createElement('div', { className: "company-logo" },
                    React.createElement('div', { className: "logo-icon" }, 'ÿ¨'),
                    React.createElement('div', { className: "logo-text" },
                      React.createElement('div', { className: "logo-title" }, 'JAWI LEARN'),
                      React.createElement('div', { className: "logo-subtitle" }, 'EDUCATION PLATFORM')
                    )
                  ),
                  React.createElement('h2', { className: "text-2xl font-bold text-emerald-800" }, 'Admin Dashboard')
                ),
                React.createElement('button', {
                  onClick: () => setShowAdmin(false),
                  className: "px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition"
                }, 'Back to Learning')
              ),
              React.createElement('div', { className: "grid grid-cols-1 md:grid-cols-3 gap-4 mb-8" },
                React.createElement('div', { className: "bg-emerald-50 p-6 rounded-lg border-2 border-emerald-200" },
                  React.createElement('h3', { className: "text-lg font-semibold text-emerald-800 mb-2" }, 'Total Users'),
                  React.createElement('p', { className: "text-3xl font-bold text-emerald-600" }, allUsers.length)
                ),
                React.createElement('div', { className: "bg-teal-50 p-6 rounded-lg border-2 border-teal-200" },
                  React.createElement('h3', { className: "text-lg font-semibold text-teal-800 mb-2" }, 'Total Quizzes'),
                  React.createElement('p', { className: "text-3xl font-bold text-teal-600" }, totalQuizzes)
                ),
                React.createElement('div', { className: "bg-blue-50 p-6 rounded-lg border-2 border-blue-200" },
                  React.createElement('h3', { className: "text-lg font-semibold text-blue-800 mb-2" }, 'Avg. Score'),
                  React.createElement('p', { className: "text-3xl font-bold text-blue-600" }, avgScore)
                )
              ),
              React.createElement('h3', { className: "text-xl font-bold text-gray-800 mb-4" }, 'User Management'),
              React.createElement('div', { className: "overflow-x-auto" },
                React.createElement('table', { className: "w-full" },
                  React.createElement('thead', { className: "bg-gray-50" },
                    React.createElement('tr', null,
                      React.createElement('th', { className: "px-4 py-3 text-left text-sm font-semibold text-gray-700" }, 'Username'),
                      React.createElement('th', { className: "px-4 py-3 text-left text-sm font-semibold text-gray-700" }, 'Role'),
                      React.createElement('th', { className: "px-4 py-3 text-left text-sm font-semibold text-gray-700" }, 'Quizzes'),
                      React.createElement('th', { className: "px-4 py-3 text-left text-sm font-semibold text-gray-700" }, 'Best Score'),
                      React.createElement('th', { className: "px-4 py-3 text-left text-sm font-semibold text-gray-700" }, 'Actions')
                    )
                  ),
                  React.createElement('tbody', { className: "divide-y divide-gray-200" },
                    allUsers.map(user => 
                      React.createElement('tr', { key: user.id, className: "hover:bg-gray-50" },
                        React.createElement('td', { className: "px-4 py-3 text-sm text-gray-900" }, user.username),
                        React.createElement('td', { className: "px-4 py-3 text-sm" },
                          React.createElement('span', {
                            className: `px-2 py-1 rounded-full text-xs font-medium ${
                              user.role === 'superuser' 
                                ? 'bg-purple-100 text-purple-800' 
                                : 'bg-green-100 text-green-800'
                            }`
                          }, user.role)
                        ),
                        React.createElement('td', { className: "px-4 py-3 text-sm text-gray-900" }, user.total_quizzes || 0),
                        React.createElement('td', { className: "px-4 py-3 text-sm text-gray-900" }, `${user.best_score || 0}/10`),
                        React.createElement('td', { className: "px-4 py-3 text-sm" },
                          user.role !== 'superuser' && React.createElement('button', {
                            onClick: () => deleteUser(user.id),
                            className: "text-red-600 hover:text-red-800 font-medium"
                          }, 'Delete')
                        )
                      )
                    )
                  )
                )
              )
            )
          )
        );
      }

      // Main learning interface - I'll shorten this for brevity
      return React.createElement('div', { className: "min-h-screen bg-gradient-to-br from-emerald-50 to-teal-100 p-4" },
        React.createElement('div', { className: "max-w-6xl mx-auto" },
          React.createElement('header', { className: "mb-6" },
            React.createElement('div', { className: "bg-white rounded-xl shadow-lg p-4" },
              React.createElement('div', { className: "flex justify-between items-center flex-wrap gap-4" },
                React.createElement('div', { className: "flex items-center gap-4" },
                  React.createElement('div', { className: "company-logo" },
                    React.createElement('div', { className: "logo-icon" }, 'ÿ¨'),
                    React.createElement('div', { className: "logo-text" },
                      React.createElement('div', { className: "logo-title" }, 'JAWI LEARN'),
                      React.createElement('div', { className: "logo-subtitle" }, 'EDUCATION PLATFORM')
                    )
                  ),
                  React.createElement('div', null,
                    React.createElement('h1', { className: "text-2xl font-bold text-emerald-800" }, 'Learn Jawi Script'),
                    React.createElement('p', { className: "text-emerald-600" }, `Welcome, ${currentUser?.username}!`)
                  )
                ),
                React.createElement('div', { className: "flex gap-2 items-center flex-wrap" },
                  React.createElement('button', {
                    onClick: () => window.playSound('test', 'en-US'),
                    className: "px-3 py-1.5 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition text-sm font-medium",
                    title: "Test if audio works"
                  }, 'üîä Test Audio'),
                  currentUser?.role === 'superuser' && React.createElement('button', {
                    onClick: openAdmin,
                    className: "px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition"
                  }, 'Admin'),
                  React.createElement('div', { className: "px-4 py-2 bg-emerald-50 rounded-lg border border-emerald-200" },
                    React.createElement('p', { className: "text-sm text-emerald-700" },
                      'Best: ', React.createElement('span', { className: "font-bold" }, `${currentUser?.progress?.bestScore || 0}/10`)
                    )
                  ),
                  React.createElement('button', {
                    onClick: handleLogout,
                    className: "px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition"
                  }, 'Logout')
                )
              )
            )
          ),
          React.createElement('div', { className: "bg-white rounded-xl shadow-lg p-6 mb-6" },
            React.createElement('div', { className: "flex gap-2 mb-6 flex-wrap" },
              React.createElement('button', {
                onClick: () => setActiveTab('alphabet'),
                className: `px-4 py-2 rounded-lg font-medium transition ${
                  activeTab === 'alphabet' ? 'bg-emerald-600 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                }`
              }, 'Alphabet'),
              React.createElement('button', {
                onClick: () => setActiveTab('words'),
                className: `px-4 py-2 rounded-lg font-medium transition ${
                  activeTab === 'words' ? 'bg-emerald-600 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                }`
              }, 'Common Words'),
              React.createElement('button', {
                onClick: startQuiz,
                className: "px-4 py-2 rounded-lg font-medium bg-teal-600 text-white hover:bg-teal-700 transition ml-auto"
              }, 'Practice Quiz')
            ),
            quizMode ? (
              React.createElement('div', { className: "text-center py-12" },
                React.createElement('div', { className: "mb-4 text-gray-600" }, `Question ${currentQuiz + 1} of 10`),
                React.createElement('div', { className: "flex justify-center items-center gap-4 mb-8" },
                  React.createElement('div', { className: "text-8xl font-arabic" }, jawiLetters[currentQuiz].jawi),
                  React.createElement('button', {
                    onClick: () => window.playSound(jawiLetters[currentQuiz].rumi, 'en-US'),
                    className: "p-3 bg-teal-500 text-white rounded-full hover:bg-teal-600 transition shadow-lg",
                    title: "Play pronunciation"
                  },
                    React.createElement('svg', {
                      width: "24",
                      height: "24",
                      viewBox: "0 0 24 24",
                      fill: "none",
                      stroke: "currentColor",
                      strokeWidth: "2",
                      strokeLinecap: "round",
                      strokeLinejoin: "round"
                    },
                      React.createElement('polygon', { points: "11 5 6 9 2 9 2 15 6 15 11 19 11 5" }),
                      React.createElement('path', { d: "M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07" })
                    )
                  )
                ),
                React.createElement('div', { className: "grid grid-cols-2 gap-4 max-w-md mx-auto" },
                  getRandomOptions(jawiLetters[currentQuiz].rumi).map((option, idx) =>
                    React.createElement('button', {
                      key: idx,
                      onClick: () => checkAnswer(option),
                      className: "px-6 py-4 bg-emerald-100 hover:bg-emerald-200 rounded-lg font-medium text-lg transition"
                    }, option)
                  )
                ),
                currentQuiz === 9 && React.createElement('div', { className: "mt-8 text-2xl font-bold text-emerald-600" }, `Final Score: ${score}/10`)
              )
            ) : activeTab === 'alphabet' ? (
              React.createElement('div', null,
                React.createElement('div', { className: "grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4" },
                  jawiLetters.map((letter, idx) =>
                    React.createElement('button', {
                      key: idx,
                      onClick: () => setSelectedLetter(letter),
                      className: `p-4 rounded-lg border-2 transition hover:shadow-lg ${
                        selectedLetter?.jawi === letter.jawi
                          ? 'border-emerald-500 bg-emerald-50'
                          : 'border-gray-200 bg-white hover:border-emerald-300'
                      }`
                    },
                      React.createElement('div', { className: "text-5xl mb-2 font-arabic" }, letter.jawi),
                      React.createElement('div', { className: "text-sm font-medium text-gray-700" }, letter.rumi),
                      React.createElement('div', { className: "text-xs text-gray-500" }, letter.name)
                    )
                  )
                ),
                selectedLetter && React.createElement('div', { className: "mt-8 p-6 bg-emerald-50 rounded-lg border-2 border-emerald-200" },
                  React.createElement('div', { className: "flex items-start gap-6" },
                    React.createElement('div', { className: "text-9xl font-arabic" }, selectedLetter.jawi),
                    React.createElement('div', { className: "flex-1" },
                      React.createElement('div', { className: "flex items-center gap-3 mb-2" },
                        React.createElement('h3', { className: "text-2xl font-bold text-emerald-800" }, selectedLetter.name),
                        React.createElement('button', {
                          onClick: () => window.playSound(selectedLetter.rumi, 'en-US'),
                          className: "p-2 bg-emerald-500 text-white rounded-full hover:bg-emerald-600 transition shadow-lg",
                          title: "Play pronunciation"
                        },
                          React.createElement('svg', {
                            width: "20",
                            height: "20",
                            viewBox: "0 0 24 24",
                            fill: "none",
                            stroke: "currentColor",
                            strokeWidth: "2",
                            strokeLinecap: "round",
                            strokeLinejoin: "round"
                          },
                            React.createElement('polygon', { points: "11 5 6 9 2 9 2 15 6 15 11 19 11 5" }),
                            React.createElement('path', { d: "M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07" })
                          )
                        )
                      ),
                      React.createElement('p', { className: "text-lg text-gray-700 mb-2" },
                        React.createElement('span', { className: "font-semibold" }, 'Romanization: '), selectedLetter.rumi
                      ),
                      React.createElement('p', { className: "text-gray-600" },
                        React.createElement('span', { className: "font-semibold" }, 'Sound: '), selectedLetter.sound
                      )
                    )
                  )
                )
              )
            ) : (
              React.createElement('div', { className: "space-y-4" },
                React.createElement('div', { className: "mb-6 p-4 bg-teal-50 rounded-lg border border-teal-200" },
                  React.createElement('p', { className: "text-teal-800" }, 'Jawi is written from right to left, like Arabic. Practice reading these common Malay words! Click the speaker icon to hear pronunciation.')
                ),
                commonWords.map((word, idx) =>
                  React.createElement('div', {
                    key: idx,
                    className: "p-6 bg-white border-2 border-gray-200 rounded-lg hover:border-emerald-300 transition"
                  },
                    React.createElement('div', { className: "flex items-center justify-between flex-wrap gap-4" },
                      React.createElement('div', { className: "text-5xl font-arabic", dir: "rtl" }, word.jawi),
                      React.createElement('div', { className: "text-right flex-1" },
                        React.createElement('div', { className: "flex items-center justify-end gap-3 mb-1" },
                          React.createElement('div', { className: "text-2xl font-semibold text-emerald-700" }, word.rumi),
                          React.createElement('button', {
                            onClick: () => window.playSound(word.rumi, 'en-US'),
                            className: "p-2 bg-teal-500 text-white rounded-full hover:bg-teal-600 transition shadow-lg",
                            title: "Play pronunciation"
                          },
                            React.createElement('svg', {
                              width: "18",
                              height: "18",
                              viewBox: "0 0 24 24",
                              fill: "none",
                              stroke: "currentColor",
                              strokeWidth: "2",
                              strokeLinecap: "round",
                              strokeLinejoin: "round"
                            },
                              React.createElement('polygon', { points: "11 5 6 9 2 9 2 15 6 15 11 19 11 5" }),
                              React.createElement('path', { d: "M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07" })
                            )
                          )
                        ),
                        React.createElement('div', { className: "text-gray-600" }, word.meaning)
                      )
                    )
                  )
                )
              )
            )
          ),
          React.createElement('div', { className: "bg-white rounded-xl shadow-lg p-6" },
            React.createElement('h2', { className: "text-2xl font-bold text-emerald-800 mb-4" }, 'About Jawi'),
            React.createElement('div', { className: "space-y-3 text-gray-700" },
              React.createElement('p', null, 'Jawi is an Arabic script adapted for writing Malay and other languages in Southeast Asia. It has been used for centuries in Malaysia, Brunei, parts of Indonesia, Southern Thailand, and the Southern Philippines.'),
              React.createElement('p', null, 'The script uses the standard Arabic alphabet plus six additional letters created specifically for sounds in Malay that don\'t exist in Arabic: nga (⁄†), nya (⁄Ω), ca (⁄Ü), pa (⁄§), ga (›¢), and va (€è).')
            )
          )
        )
      );
    };

    ReactDOM.render(React.createElement(JawiLearningApp), document.getElementById('root'));
  </script>
</body>
</html>